{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/Penny-Wise/app/api/analyze.ts"],"sourcesContent":["import { useState } from 'react';\n\n// Types\ninterface NewsArticle {\n  title: string;\n  summary: string;\n  source: string;\n  url: string;\n  publishedDate: string;\n}\n\ninterface StockRecommendation {\n  ticker: string;\n  companyName: string;\n  recommendationType: 'buy' | 'sell' | 'hold';\n  targetPrice: number;\n  currentPrice: number;\n  potentialUpside: number;\n  timeHorizon: string;\n  riskLevel: 'low' | 'medium' | 'high';\n  rationale: string[];\n}\n\ninterface SectorOutlook {\n  sector: string;\n  sentiment: 'bullish' | 'bearish' | 'neutral';\n  impactScore: number;\n  keyDrivers: string[];\n  opportunities: string[];\n  risks: string[];\n  recommendedStocks: string[];\n}\n\ninterface MacroTrend {\n  title: string;\n  description: string;\n  impactAssessment: string;\n  affectedSectors: string[];\n  investmentImplications: string[];\n  timelineProjection: string;\n}\n\ninterface TechnicalIndicator {\n  indicator: string;\n  signal: 'buy' | 'sell' | 'neutral';\n  strength: number;\n  description: string;\n  applicableStocks: string[];\n}\n\ninterface InvestmentStrategy {\n  strategyName: string;\n  suitableFor: string[];\n  allocationRecommendation: {\n    equities: number;\n    bonds: number;\n    commodities: number;\n    cash: number;\n    alternative: number;\n  };\n  topPicks: string[];\n  implementationSteps: string[];\n}\n\ninterface InvestmentAnalysis {\n  executiveSummary: string;\n  marketSnapshot: {\n    majorIndices: Array<{name: string, value: number, change: number}>;\n    keyRates: Array<{name: string, value: number, change: number}>;\n    commodities: Array<{name: string, value: number, change: number}>;\n    forex: Array<{pair: string, value: number, change: number}>;\n  };\n  topStockRecommendations: StockRecommendation[];\n  sectorOutlooks: SectorOutlook[];\n  macroTrends: MacroTrend[];\n  technicalAnalysis: TechnicalIndicator[];\n  investmentStrategies: InvestmentStrategy[];\n  disclaimer: string;\n}\n\ninterface NewsAnalysisData {\n  success: boolean;\n  data?: {\n    articles: NewsArticle[];\n    analysis: InvestmentAnalysis;\n    timestamp: string;\n  };\n  error?: string;\n}\n\n// Google Search API response interfaces\ninterface GoogleSearchItem {\n  title?: string;\n  snippet?: string;\n  link?: string;\n  source?: { name?: string };\n  pagemap?: {\n    metatags?: Array<{\n      'og:site_name'?: string;\n      'article:published_time'?: string;\n    }>;\n  };\n  displayLink?: string;\n}\n\ninterface GoogleSearchResponse {\n  items?: GoogleSearchItem[];\n  error?: {\n    code: number;\n    message: string;\n    errors: Array<{\n      message: string;\n      domain: string;\n      reason: string;\n    }>;\n  };\n}\n\n// Groq API response interfaces\ninterface GroqChoice {\n  message?: {\n    content?: string;\n  };\n}\n\ninterface GroqResponse {\n  choices?: GroqChoice[];\n}\n\n// Configuration\nconst CONFIG = {\n  REQUEST_TIMEOUT: 60000,\n  API_KEYS: {\n    GOOGLE_SEARCH: process.env.NEXT_PUBLIC_GOOGLE_SEARCH_API_KEY,\n    GOOGLE_CX: process.env.NEXT_PUBLIC_GOOGLE_SEARCH_CX_ID,\n    GROQ: process.env.NEXT_PUBLIC_GROQ_API_KEY\n  },\n  DEFAULT_QUERY: \"Indian Stock Market Today\",\n  REFRESH_INTERVAL: 3600000, // 1 hour in milliseconds\n  NEWS_SOURCES: [\n    \"economictimes.indiatimes.com\",\n    \"moneycontrol.com\",\n    \"livemint.com\",\n    \"business-standard.com\"\n  ],\n  MAX_RETRIES: 1,\n  RETRY_DELAY: 1000 // 1 second\n} as const;\n\nconst INDIAN_MARKET_ANALYSIS_PROMPT = `You are a professional investment analyst specializing in Indian financial markets, with expertise in NSE, BSE, and macroeconomic trends in India. Analyze the provided news articles and generate a comprehensive investment recommendation report in JSON format focused on Indian markets. This report should provide actionable investment insights based on current market news, trends, and data.\n\nThe report should follow this structure:\n{\n  \"executiveSummary\": \"HTML-formatted overview highlighting key events in Indian markets and investment opportunities\",\n  \n  \"marketSnapshot\": {\n    \"majorIndices\": [{\"name\": \"Index name (e.g., NIFTY 50, SENSEX)\", \"value\": 0, \"change\": 0}],\n    \"keyRates\": [{\"name\": \"Rate name (e.g., RBI Repo Rate)\", \"value\": 0, \"change\": 0}],\n    \"commodities\": [{\"name\": \"Commodity name\", \"value\": 0, \"change\": 0}],\n    \"forex\": [{\"pair\": \"Currency pair (e.g., INR/USD)\", \"value\": 0, \"change\": 0}]\n  },\n  \n  \"topStockRecommendations\": [\n    {\n      \"ticker\": \"Stock ticker symbol (NSE/BSE)\",\n      \"companyName\": \"Company name\",\n      \"recommendationType\": \"buy|sell|hold\",\n      \"targetPrice\": 0,\n      \"currentPrice\": 0,\n      \"potentialUpside\": 0,\n      \"timeHorizon\": \"Short-term/Mid-term/Long-term\",\n      \"riskLevel\": \"low|medium|high\",\n      \"rationale\": [\"Reasons for recommendation\"]\n    }\n  ],\n  \n  \"sectorOutlooks\": [\n    {\n      \"sector\": \"Sector name (e.g., IT, Pharma, Banking)\",\n      \"sentiment\": \"bullish|bearish|neutral\",\n      \"impactScore\": 0,\n      \"keyDrivers\": [\"Key drivers affecting this sector in India\"],\n      \"opportunities\": [\"Investment opportunities\"],\n      \"risks\": [\"Potential risks\"],\n      \"recommendedStocks\": [\"Stock recommendations (NSE/BSE tickers)\"]\n    }\n  ],\n  \n  \"macroTrends\": [\n    {\n      \"title\": \"Trend name\",\n      \"description\": \"HTML-formatted trend analysis for Indian context\",\n      \"impactAssessment\": \"Assessment of impact on Indian markets\",\n      \"affectedSectors\": [\"Sectors in India affected by this trend\"],\n      \"investmentImplications\": [\"Investment implications for Indian investors\"],\n      \"timelineProjection\": \"Expected timeline\"\n    }\n  ],\n  \n  \"technicalAnalysis\": [\n    {\n      \"indicator\": \"Technical indicator name\",\n      \"signal\": \"buy|sell|neutral\",\n      \"strength\": 0,\n      \"description\": \"What this indicator suggests for Indian markets\",\n      \"applicableStocks\": [\"Indian stocks this applies to (NSE/BSE tickers)\"]\n    }\n  ],\n  \n  \"investmentStrategies\": [\n    {\n      \"strategyName\": \"Strategy name\",\n      \"suitableFor\": [\"Indian investor profiles this suits\"],\n      \"allocationRecommendation\": {\n        \"equities\": 0,\n        \"bonds\": 0,\n        \"commodities\": 0,\n        \"cash\": 0,\n        \"alternative\": 0\n      },\n      \"topPicks\": [\"Top investment picks in Indian markets\"],\n      \"implementationSteps\": [\"How to implement this strategy in Indian markets\"]\n    }\n  ],\n  \n  \"disclaimer\": \"Investment disclaimer notice appropriate for Indian regulatory context\"\n}\n\nGuidelines:\n- Focus exclusively on Indian markets (NSE, BSE)\n- Provide at least 5 specific stock recommendations from NSE/BSE with clear rationales\n- Include analysis of at least 4 major market sectors relevant to India\n- Identify 3-5 significant macroeconomic trends affecting Indian markets\n- Consider RBI policies, government regulations, and India-specific economic factors\n- Provide 3 different investment strategies for different Indian investor profiles\n- Ensure all recommendations are tied directly to news events and market data\n- Include both technical and fundamental analysis in your recommendations\n- Discuss potential risks alongside opportunities in the Indian context\n- All price targets should be in INR and predictions should be realistic\n- Include an appropriate investment disclaimer for Indian markets\n- Use sophisticated financial terminology while contextualizing for Indian markets`;\n\n// Main service class\nexport class IndianMarketInvestmentService {\n  private static lastFetchTime: number = 0;\n  private static cachedData: NewsAnalysisData | null = null;\n  private static isFetchingData: boolean = false;\n  private static pendingPromises: Array<{\n    resolve: (data: NewsAnalysisData) => void;\n    reject: (error: Error) => void;\n  }> = [];\n\n  private static async fetchWithTimeout(\n    url: string,\n    options: RequestInit,\n    retryCount: number = 0\n  ): Promise<Response> {\n    const controller = new AbortController();\n    const timeoutId = setTimeout(() => controller.abort(), CONFIG.REQUEST_TIMEOUT);\n\n    try {\n      const response = await fetch(url, {\n        ...options,\n        signal: controller.signal,\n      });\n      clearTimeout(timeoutId);\n      \n      // If response is not OK and we haven't exceeded retry limit, retry\n      if (!response.ok && retryCount < CONFIG.MAX_RETRIES) {\n        await new Promise(resolve => setTimeout(resolve, CONFIG.RETRY_DELAY));\n        return this.fetchWithTimeout(url, options, retryCount + 1);\n      }\n      \n      return response;\n    } catch (error) {\n      clearTimeout(timeoutId);\n      \n      // If error is not an abort error and we haven't exceeded retry limit, retry\n      if (!(error instanceof Error && error.name === 'AbortError') && retryCount < CONFIG.MAX_RETRIES) {\n        await new Promise(resolve => setTimeout(resolve, CONFIG.RETRY_DELAY));\n        return this.fetchWithTimeout(url, options, retryCount + 1);\n      }\n      \n      if (error instanceof Error && error.name === 'AbortError') {\n        throw new Error('Request timed out');\n      }\n      throw error;\n    }\n  }\n\n  private static validateConfiguration(): void {\n    const { GOOGLE_SEARCH, GOOGLE_CX, GROQ } = CONFIG.API_KEYS;\n    \n    if (!GOOGLE_SEARCH || GOOGLE_SEARCH === '') {\n      throw new Error('Google Search API key is missing or empty');\n    }\n    \n    if (!GOOGLE_CX || GOOGLE_CX === '') {\n      throw new Error('Google Custom Search Engine ID is missing or empty');\n    }\n    \n    if (!GROQ || GROQ === '') {\n      throw new Error('Groq API key is missing or empty');\n    }\n  }\n\n  private static async fetchIndianFinancialNews(): Promise<NewsArticle[]> {\n    try {\n      // Try various query combinations to increase chances of finding results\n      const queries = [\n        CONFIG.DEFAULT_QUERY,\n        \"NIFTY Sensex latest news\",\n        \"Indian stock market updates\",\n        \"NSE BSE market news\"\n      ];\n      \n      // Try each query until we get results\n      for (const query of queries) {\n        try {\n          const articles = await this.executeGoogleSearch(query);\n          if (articles.length > 0) {\n            return articles;\n          }\n        } catch (error) {\n          console.warn(`Search with query \"${query}\" failed:`, error);\n          // Continue to next query\n        }\n      }\n      \n      // If we've made it here, we couldn't get results from any query\n      throw new Error('Failed to fetch Indian market news after multiple attempts');\n    } catch (error) {\n      // Create placeholder news articles with direct links to financial sites\n      const currentDate = new Date().toISOString();\n      \n      // Create articles from direct access to news sites\n      const placeholderArticles: NewsArticle[] = [\n        {\n          title: 'Unable to fetch latest market news - Using direct sources',\n          summary: 'Please visit the source links for the latest Indian market news and updates.',\n          source: 'Direct Access',\n          url: 'https://economictimes.indiatimes.com/markets',\n          publishedDate: currentDate\n        },\n        {\n          title: 'NIFTY and SENSEX market updates',\n          summary: 'Visit MoneyControl for the latest NIFTY and SENSEX updates and market analysis.',\n          source: 'MoneyControl',\n          url: 'https://www.moneycontrol.com/stocksmarketsindia/',\n          publishedDate: currentDate\n        },\n        {\n          title: 'Business news and market analysis',\n          summary: 'Check Livemint for comprehensive business news and market analysis for Indian markets.',\n          source: 'Livemint',\n          url: 'https://www.livemint.com/market',\n          publishedDate: currentDate\n        },\n        {\n          title: 'Stock market and corporate updates',\n          summary: 'Find the latest corporate news and stock market updates on Business Standard.',\n          source: 'Business Standard',\n          url: 'https://www.business-standard.com/markets',\n          publishedDate: currentDate\n        }\n      ];\n      \n      return placeholderArticles;\n    }\n  }\n  \n  private static async executeGoogleSearch(query: string): Promise<NewsArticle[]> {\n    // Create search URL for Google Custom Search API\n    const searchUrl = new URL('https://www.googleapis.com/customsearch/v1');\n    searchUrl.searchParams.append('key', CONFIG.API_KEYS.GOOGLE_SEARCH || '');\n    searchUrl.searchParams.append('cx', CONFIG.API_KEYS.GOOGLE_CX || '');\n    searchUrl.searchParams.append('q', query);\n    searchUrl.searchParams.append('num', '30'); // Request fewer results\n    searchUrl.searchParams.append('sort', 'date'); \n    searchUrl.searchParams.append('dateRestrict', 'd1'); // Just last day\n    searchUrl.searchParams.append('gl', 'in'); // Geographic location: India\n    searchUrl.searchParams.append('hl', 'en'); // Language: English\n    \n    // Join the first two news sources\n    searchUrl.searchParams.append('siteSearch', CONFIG.NEWS_SOURCES.slice(0, 2).join(','));\n    searchUrl.searchParams.append('siteSearchFilter', 'i');\n\n    const response = await this.fetchWithTimeout(searchUrl.toString(), { \n      method: 'GET',\n      headers: {\n        'Accept': 'application/json'\n      }\n    });\n\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => null);\n      const errorMessage = errorData?.error?.message || response.statusText;\n      throw new Error(`Google Search API error (${response.status}): ${errorMessage}`);\n    }\n\n    const data = await response.json() as GoogleSearchResponse;\n    \n    if (!data?.items || !Array.isArray(data.items) || data.items.length === 0) {\n      throw new Error('No search results found');\n    }\n\n    return data.items.map((item: GoogleSearchItem) => {\n      const siteName = item.pagemap?.metatags?.[0]?.['og:site_name'] || item.displayLink || 'Unknown';\n      const publishedDate = item.pagemap?.metatags?.[0]?.['article:published_time'] || new Date().toISOString();\n      \n      return {\n        title: item.title || 'No title available',\n        summary: item.snippet || 'No description available',\n        source: siteName,\n        url: item.link || '#',\n        publishedDate: publishedDate\n      };\n    });\n  }\n\n  private static async generateIndianMarketAnalysis(\n    articles: NewsArticle[]\n  ): Promise<InvestmentAnalysis> {\n    try {\n      const response = await this.fetchWithTimeout(\n        'https://api.groq.com/openai/v1/chat/completions',\n        {\n          method: 'POST',\n          headers: {\n            'Authorization': `Bearer ${CONFIG.API_KEYS.GROQ}`,\n            'Content-Type': 'application/json',\n            'Accept': 'application/json'\n          },\n          body: JSON.stringify({\n            model: 'deepseek-r1-distill-qwen-32b',\n            messages: [\n              { role: 'system', content: INDIAN_MARKET_ANALYSIS_PROMPT },\n              { \n                role: 'user', \n                content: `Analyze these news articles about Indian financial markets and provide investment recommendations in json format:\\n${JSON.stringify(articles, null, 2)}` \n              },\n            ],\n            temperature: 0.3,\n            max_tokens: 4500,\n            response_format: { type: 'json_object' },\n          }),\n        }\n      );\n\n      if (!response.ok) {\n        const errorData = await response.json().catch(() => null);\n        const errorMessage = errorData?.error?.message || response.statusText;\n        throw new Error(\n          `Groq API error (${response.status}): ${errorMessage}`\n        );\n      }\n\n      const data = await response.json() as GroqResponse;\n      const analysisContent = data?.choices?.[0]?.message?.content;\n\n      if (!analysisContent) {\n        throw new Error('No analysis content received from Groq API');\n      }\n\n      try {\n        // Ensure we can parse the JSON correctly\n        return JSON.parse(analysisContent) as InvestmentAnalysis;\n      } catch (parseError) {\n        throw new Error(`Failed to parse Groq API response: ${parseError instanceof Error ? parseError.message : String(parseError)}`);\n      }\n    } catch (error) {\n      // Pass the error up to be handled at the service level\n      throw error;\n    }\n  }\n\n  public static async getIndianMarketAnalysis(): Promise<NewsAnalysisData> {\n    const currentTime = Date.now();\n    \n    // Return cached data if available and not expired\n    if (\n      this.cachedData &&\n      currentTime - this.lastFetchTime < CONFIG.REFRESH_INTERVAL\n    ) {\n      return this.cachedData;\n    }\n    \n    // If a fetch is already in progress, queue this request\n    if (this.isFetchingData) {\n      return new Promise<NewsAnalysisData>((resolve, reject) => {\n        this.pendingPromises.push({ resolve, reject });\n      });\n    }\n    \n    this.isFetchingData = true;\n    \n    try {\n      // Validate configuration before making any API calls\n      this.validateConfiguration();\n\n      // Fetch news articles with our more robust method\n      const articles = await this.fetchIndianFinancialNews();\n      \n      // Generate analysis\n      const analysis = await this.generateIndianMarketAnalysis(articles);\n      \n      // Create successful response\n      const response: NewsAnalysisData = {\n        success: true,\n        data: {\n          articles,\n          analysis,\n          timestamp: new Date().toISOString(),\n        },\n      };\n\n      // Update cache\n      this.cachedData = response;\n      this.lastFetchTime = currentTime;\n      \n      // Resolve all pending promises\n      this.resolveAllPending(response);\n      \n      return response;\n    } catch (error) {\n      // Create error response\n      const errorMessage = error instanceof Error ? error.message : 'Unknown error occurred';\n      console.error('Indian market analysis error:', error);\n      const errorResponse: NewsAnalysisData = { \n        success: false, \n        error: errorMessage \n      };\n      \n      // Reject all pending promises\n      this.rejectAllPending(new Error(errorMessage));\n      \n      return errorResponse;\n    } finally {\n      this.isFetchingData = false;\n    }\n  }\n  \n  private static resolveAllPending(data: NewsAnalysisData): void {\n    for (const pending of this.pendingPromises) {\n      pending.resolve(data);\n    }\n    this.pendingPromises = [];\n  }\n  \n  private static rejectAllPending(error: Error): void {\n    for (const pending of this.pendingPromises) {\n      pending.reject(error);\n    }\n    this.pendingPromises = [];\n  }\n  \n  public static clearCache(): void {\n    this.cachedData = null;\n    this.lastFetchTime = 0;\n  }\n}\n\n// React hook\nexport const useIndianMarketRecommendations = () => {\n  const [investmentData, setInvestmentData] = useState<NewsAnalysisData | null>(null);\n  const [isLoading, setIsLoading] = useState<boolean>(false);\n  const [error, setError] = useState<string | null>(null);\n\n  const getIndianMarketAnalysis = async () => {\n    setIsLoading(true);\n    setError(null);\n\n    try {\n      const result = await IndianMarketInvestmentService.getIndianMarketAnalysis();\n      setInvestmentData(result);\n      \n      if (!result.success && result.error) {\n        setError(result.error);\n      }\n      \n      return result;\n    } catch (error) {\n      const errorMessage = error instanceof Error ? error.message : 'Unknown error occurred';\n      setError(errorMessage);\n      return { success: false, error: errorMessage };\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const refreshAnalysis = () => {\n    IndianMarketInvestmentService.clearCache();\n    return getIndianMarketAnalysis();\n  };\n\n  const clearAnalysis = () => {\n    setInvestmentData(null);\n    setError(null);\n  };\n\n  return {\n    investmentData,\n    getIndianMarketAnalysis,\n    refreshAnalysis,\n    clearAnalysis,\n    isLoading,\n    error\n  };\n};"],"names":[],"mappings":";;;;AAqImB;AArInB;;;AAiIA,gBAAgB;AAChB,MAAM,SAAS;IACb,iBAAiB;IACjB,UAAU;QACR,aAAa;QACb,SAAS;QACT,IAAI;IACN;IACA,eAAe;IACf,kBAAkB;IAClB,cAAc;QACZ;QACA;QACA;QACA;KACD;IACD,aAAa;IACb,aAAa,KAAK,WAAW;AAC/B;AAEA,MAAM,gCAAgC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;kFA2F2C,CAAC;AAG5E,MAAM;IACX,OAAe,gBAAwB,EAAE;IACzC,OAAe,aAAsC,KAAK;IAC1D,OAAe,iBAA0B,MAAM;IAC/C,OAAe,kBAGV,EAAE,CAAC;IAER,aAAqB,iBACnB,GAAW,EACX,OAAoB,EACpB,aAAqB,CAAC,EACH;QACnB,MAAM,aAAa,IAAI;QACvB,MAAM,YAAY,WAAW,IAAM,WAAW,KAAK,IAAI,OAAO,eAAe;QAE7E,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,KAAK;gBAChC,GAAG,OAAO;gBACV,QAAQ,WAAW,MAAM;YAC3B;YACA,aAAa;YAEb,mEAAmE;YACnE,IAAI,CAAC,SAAS,EAAE,IAAI,aAAa,OAAO,WAAW,EAAE;gBACnD,MAAM,IAAI,QAAQ,CAAA,UAAW,WAAW,SAAS,OAAO,WAAW;gBACnE,OAAO,IAAI,CAAC,gBAAgB,CAAC,KAAK,SAAS,aAAa;YAC1D;YAEA,OAAO;QACT,EAAE,OAAO,OAAO;YACd,aAAa;YAEb,4EAA4E;YAC5E,IAAI,CAAC,CAAC,iBAAiB,SAAS,MAAM,IAAI,KAAK,YAAY,KAAK,aAAa,OAAO,WAAW,EAAE;gBAC/F,MAAM,IAAI,QAAQ,CAAA,UAAW,WAAW,SAAS,OAAO,WAAW;gBACnE,OAAO,IAAI,CAAC,gBAAgB,CAAC,KAAK,SAAS,aAAa;YAC1D;YAEA,IAAI,iBAAiB,SAAS,MAAM,IAAI,KAAK,cAAc;gBACzD,MAAM,IAAI,MAAM;YAClB;YACA,MAAM;QACR;IACF;IAEA,OAAe,wBAA8B;QAC3C,MAAM,EAAE,aAAa,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO,QAAQ;QAE1D,IAAI,CAAC,iBAAiB,kBAAkB,IAAI;YAC1C,MAAM,IAAI,MAAM;QAClB;QAEA,IAAI,CAAC,aAAa,cAAc,IAAI;YAClC,MAAM,IAAI,MAAM;QAClB;QAEA,IAAI,CAAC,QAAQ,SAAS,IAAI;YACxB,MAAM,IAAI,MAAM;QAClB;IACF;IAEA,aAAqB,2BAAmD;QACtE,IAAI;YACF,wEAAwE;YACxE,MAAM,UAAU;gBACd,OAAO,aAAa;gBACpB;gBACA;gBACA;aACD;YAED,sCAAsC;YACtC,KAAK,MAAM,SAAS,QAAS;gBAC3B,IAAI;oBACF,MAAM,WAAW,MAAM,IAAI,CAAC,mBAAmB,CAAC;oBAChD,IAAI,SAAS,MAAM,GAAG,GAAG;wBACvB,OAAO;oBACT;gBACF,EAAE,OAAO,OAAO;oBACd,QAAQ,IAAI,CAAC,CAAC,mBAAmB,EAAE,MAAM,SAAS,CAAC,EAAE;gBACrD,yBAAyB;gBAC3B;YACF;YAEA,gEAAgE;YAChE,MAAM,IAAI,MAAM;QAClB,EAAE,OAAO,OAAO;YACd,wEAAwE;YACxE,MAAM,cAAc,IAAI,OAAO,WAAW;YAE1C,mDAAmD;YACnD,MAAM,sBAAqC;gBACzC;oBACE,OAAO;oBACP,SAAS;oBACT,QAAQ;oBACR,KAAK;oBACL,eAAe;gBACjB;gBACA;oBACE,OAAO;oBACP,SAAS;oBACT,QAAQ;oBACR,KAAK;oBACL,eAAe;gBACjB;gBACA;oBACE,OAAO;oBACP,SAAS;oBACT,QAAQ;oBACR,KAAK;oBACL,eAAe;gBACjB;gBACA;oBACE,OAAO;oBACP,SAAS;oBACT,QAAQ;oBACR,KAAK;oBACL,eAAe;gBACjB;aACD;YAED,OAAO;QACT;IACF;IAEA,aAAqB,oBAAoB,KAAa,EAA0B;QAC9E,iDAAiD;QACjD,MAAM,YAAY,IAAI,IAAI;QAC1B,UAAU,YAAY,CAAC,MAAM,CAAC,OAAO,OAAO,QAAQ,CAAC,aAAa,IAAI;QACtE,UAAU,YAAY,CAAC,MAAM,CAAC,MAAM,OAAO,QAAQ,CAAC,SAAS,IAAI;QACjE,UAAU,YAAY,CAAC,MAAM,CAAC,KAAK;QACnC,UAAU,YAAY,CAAC,MAAM,CAAC,OAAO,OAAO,wBAAwB;QACpE,UAAU,YAAY,CAAC,MAAM,CAAC,QAAQ;QACtC,UAAU,YAAY,CAAC,MAAM,CAAC,gBAAgB,OAAO,gBAAgB;QACrE,UAAU,YAAY,CAAC,MAAM,CAAC,MAAM,OAAO,6BAA6B;QACxE,UAAU,YAAY,CAAC,MAAM,CAAC,MAAM,OAAO,oBAAoB;QAE/D,kCAAkC;QAClC,UAAU,YAAY,CAAC,MAAM,CAAC,cAAc,OAAO,YAAY,CAAC,KAAK,CAAC,GAAG,GAAG,IAAI,CAAC;QACjF,UAAU,YAAY,CAAC,MAAM,CAAC,oBAAoB;QAElD,MAAM,WAAW,MAAM,IAAI,CAAC,gBAAgB,CAAC,UAAU,QAAQ,IAAI;YACjE,QAAQ;YACR,SAAS;gBACP,UAAU;YACZ;QACF;QAEA,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,MAAM,YAAY,MAAM,SAAS,IAAI,GAAG,KAAK,CAAC,IAAM;YACpD,MAAM,eAAe,WAAW,OAAO,WAAW,SAAS,UAAU;YACrE,MAAM,IAAI,MAAM,CAAC,yBAAyB,EAAE,SAAS,MAAM,CAAC,GAAG,EAAE,cAAc;QACjF;QAEA,MAAM,OAAO,MAAM,SAAS,IAAI;QAEhC,IAAI,CAAC,MAAM,SAAS,CAAC,MAAM,OAAO,CAAC,KAAK,KAAK,KAAK,KAAK,KAAK,CAAC,MAAM,KAAK,GAAG;YACzE,MAAM,IAAI,MAAM;QAClB;QAEA,OAAO,KAAK,KAAK,CAAC,GAAG,CAAC,CAAC;YACrB,MAAM,WAAW,KAAK,OAAO,EAAE,UAAU,CAAC,EAAE,EAAE,CAAC,eAAe,IAAI,KAAK,WAAW,IAAI;YACtF,MAAM,gBAAgB,KAAK,OAAO,EAAE,UAAU,CAAC,EAAE,EAAE,CAAC,yBAAyB,IAAI,IAAI,OAAO,WAAW;YAEvG,OAAO;gBACL,OAAO,KAAK,KAAK,IAAI;gBACrB,SAAS,KAAK,OAAO,IAAI;gBACzB,QAAQ;gBACR,KAAK,KAAK,IAAI,IAAI;gBAClB,eAAe;YACjB;QACF;IACF;IAEA,aAAqB,6BACnB,QAAuB,EACM;QAC7B,IAAI;YACF,MAAM,WAAW,MAAM,IAAI,CAAC,gBAAgB,CAC1C,mDACA;gBACE,QAAQ;gBACR,SAAS;oBACP,iBAAiB,CAAC,OAAO,EAAE,OAAO,QAAQ,CAAC,IAAI,EAAE;oBACjD,gBAAgB;oBAChB,UAAU;gBACZ;gBACA,MAAM,KAAK,SAAS,CAAC;oBACnB,OAAO;oBACP,UAAU;wBACR;4BAAE,MAAM;4BAAU,SAAS;wBAA8B;wBACzD;4BACE,MAAM;4BACN,SAAS,CAAC,mHAAmH,EAAE,KAAK,SAAS,CAAC,UAAU,MAAM,IAAI;wBACpK;qBACD;oBACD,aAAa;oBACb,YAAY;oBACZ,iBAAiB;wBAAE,MAAM;oBAAc;gBACzC;YACF;YAGF,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,MAAM,YAAY,MAAM,SAAS,IAAI,GAAG,KAAK,CAAC,IAAM;gBACpD,MAAM,eAAe,WAAW,OAAO,WAAW,SAAS,UAAU;gBACrE,MAAM,IAAI,MACR,CAAC,gBAAgB,EAAE,SAAS,MAAM,CAAC,GAAG,EAAE,cAAc;YAE1D;YAEA,MAAM,OAAO,MAAM,SAAS,IAAI;YAChC,MAAM,kBAAkB,MAAM,SAAS,CAAC,EAAE,EAAE,SAAS;YAErD,IAAI,CAAC,iBAAiB;gBACpB,MAAM,IAAI,MAAM;YAClB;YAEA,IAAI;gBACF,yCAAyC;gBACzC,OAAO,KAAK,KAAK,CAAC;YACpB,EAAE,OAAO,YAAY;gBACnB,MAAM,IAAI,MAAM,CAAC,mCAAmC,EAAE,sBAAsB,QAAQ,WAAW,OAAO,GAAG,OAAO,aAAa;YAC/H;QACF,EAAE,OAAO,OAAO;YACd,uDAAuD;YACvD,MAAM;QACR;IACF;IAEA,aAAoB,0BAAqD;QACvE,MAAM,cAAc,KAAK,GAAG;QAE5B,kDAAkD;QAClD,IACE,IAAI,CAAC,UAAU,IACf,cAAc,IAAI,CAAC,aAAa,GAAG,OAAO,gBAAgB,EAC1D;YACA,OAAO,IAAI,CAAC,UAAU;QACxB;QAEA,wDAAwD;QACxD,IAAI,IAAI,CAAC,cAAc,EAAE;YACvB,OAAO,IAAI,QAA0B,CAAC,SAAS;gBAC7C,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC;oBAAE;oBAAS;gBAAO;YAC9C;QACF;QAEA,IAAI,CAAC,cAAc,GAAG;QAEtB,IAAI;YACF,qDAAqD;YACrD,IAAI,CAAC,qBAAqB;YAE1B,kDAAkD;YAClD,MAAM,WAAW,MAAM,IAAI,CAAC,wBAAwB;YAEpD,oBAAoB;YACpB,MAAM,WAAW,MAAM,IAAI,CAAC,4BAA4B,CAAC;YAEzD,6BAA6B;YAC7B,MAAM,WAA6B;gBACjC,SAAS;gBACT,MAAM;oBACJ;oBACA;oBACA,WAAW,IAAI,OAAO,WAAW;gBACnC;YACF;YAEA,eAAe;YACf,IAAI,CAAC,UAAU,GAAG;YAClB,IAAI,CAAC,aAAa,GAAG;YAErB,+BAA+B;YAC/B,IAAI,CAAC,iBAAiB,CAAC;YAEvB,OAAO;QACT,EAAE,OAAO,OAAO;YACd,wBAAwB;YACxB,MAAM,eAAe,iBAAiB,QAAQ,MAAM,OAAO,GAAG;YAC9D,QAAQ,KAAK,CAAC,iCAAiC;YAC/C,MAAM,gBAAkC;gBACtC,SAAS;gBACT,OAAO;YACT;YAEA,8BAA8B;YAC9B,IAAI,CAAC,gBAAgB,CAAC,IAAI,MAAM;YAEhC,OAAO;QACT,SAAU;YACR,IAAI,CAAC,cAAc,GAAG;QACxB;IACF;IAEA,OAAe,kBAAkB,IAAsB,EAAQ;QAC7D,KAAK,MAAM,WAAW,IAAI,CAAC,eAAe,CAAE;YAC1C,QAAQ,OAAO,CAAC;QAClB;QACA,IAAI,CAAC,eAAe,GAAG,EAAE;IAC3B;IAEA,OAAe,iBAAiB,KAAY,EAAQ;QAClD,KAAK,MAAM,WAAW,IAAI,CAAC,eAAe,CAAE;YAC1C,QAAQ,MAAM,CAAC;QACjB;QACA,IAAI,CAAC,eAAe,GAAG,EAAE;IAC3B;IAEA,OAAc,aAAmB;QAC/B,IAAI,CAAC,UAAU,GAAG;QAClB,IAAI,CAAC,aAAa,GAAG;IACvB;AACF;AAGO,MAAM,iCAAiC;;IAC5C,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAA2B;IAC9E,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAW;IACpD,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAiB;IAElD,MAAM,0BAA0B;QAC9B,aAAa;QACb,SAAS;QAET,IAAI;YACF,MAAM,SAAS,MAAM,8BAA8B,uBAAuB;YAC1E,kBAAkB;YAElB,IAAI,CAAC,OAAO,OAAO,IAAI,OAAO,KAAK,EAAE;gBACnC,SAAS,OAAO,KAAK;YACvB;YAEA,OAAO;QACT,EAAE,OAAO,OAAO;YACd,MAAM,eAAe,iBAAiB,QAAQ,MAAM,OAAO,GAAG;YAC9D,SAAS;YACT,OAAO;gBAAE,SAAS;gBAAO,OAAO;YAAa;QAC/C,SAAU;YACR,aAAa;QACf;IACF;IAEA,MAAM,kBAAkB;QACtB,8BAA8B,UAAU;QACxC,OAAO;IACT;IAEA,MAAM,gBAAgB;QACpB,kBAAkB;QAClB,SAAS;IACX;IAEA,OAAO;QACL;QACA;QACA;QACA;QACA;QACA;IACF;AACF;GA7Ca","debugId":null}},
    {"offset": {"line": 444, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/Penny-Wise/app/analyze/page.tsx"],"sourcesContent":["\"use client\"\n\nimport React, { useEffect, useState } from 'react';\nimport { useIndianMarketRecommendations } from '@/app/api/analyze';\n\nconst IndianMarketDashboard = () => {\n  const { investmentData, getIndianMarketAnalysis, refreshAnalysis, isLoading, error } = useIndianMarketRecommendations();\n  const [selectedTab, setSelectedTab] = useState('overview');\n\n  useEffect(() => {\n    getIndianMarketAnalysis();\n  }, []);\n\n  if (isLoading) {\n    return (\n      <div className=\"flex h-screen items-center justify-center bg-white\">\n        <div className=\"text-center\">\n          <div className=\"h-8 w-8 animate-spin rounded-full border-4 border-gray-200 border-t-black mx-auto\"></div>\n          <p className=\"mt-4 text-sm text-black\">Analyzing market data...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"flex h-screen items-center justify-center bg-white\">\n        <div className=\"max-w-md p-6 bg-white border border-gray-200 rounded-lg\">\n          <h2 className=\"text-xl font-bold mb-4 text-black\">Error Loading Data</h2>\n          <p className=\"text-black mb-4\">{error}</p>\n          <button \n            onClick={refreshAnalysis}\n            className=\"px-4 py-2 bg-black text-white rounded\"\n          >\n            Retry\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  if (!investmentData?.data) {\n    return (\n      <div className=\"flex h-screen items-center justify-center bg-white\">\n        <div className=\"max-w-md p-6 bg-white border border-gray-200 rounded-lg\">\n          <h2 className=\"text-xl font-bold mb-4 text-black\">No Market Data Available</h2>\n          <p className=\"text-black mb-4\">Market data could not be retrieved.</p>\n          <button \n            onClick={refreshAnalysis}\n            className=\"px-4 py-2 bg-black text-white rounded\"\n          >\n            Load Data\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  const { analysis, timestamp } = investmentData.data;\n  const formattedDate = new Date(timestamp).toLocaleDateString('en-IN', {\n    day: 'numeric',\n    month: 'long',\n    year: 'numeric',\n    hour: '2-digit',\n    minute: '2-digit'\n  });\n\n  const getChangeColor = (change) => {\n    return change >= 0 ? 'text-green-700' : 'text-red-700';\n  };\n\n  const renderTabContent = () => {\n    switch (selectedTab) {\n      case 'overview':\n        return (\n          <div className=\"space-y-6\">\n            <div className=\"bg-white p-6 rounded-lg border border-gray-200\">\n              <h3 className=\"text-xl font-semibold mb-4 text-black\">Executive Summary</h3>\n              <div className=\"text-black\" dangerouslySetInnerHTML={{ __html: analysis.executiveSummary }} />\n            </div>\n            \n            <div className=\"bg-white p-6 rounded-lg border border-gray-200\">\n              <h3 className=\"text-xl font-semibold mb-4 text-black\">Market Snapshot</h3>\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                <div>\n                  <h4 className=\"text-lg font-medium mb-3 text-black\">Major Indices</h4>\n                  <table className=\"min-w-full\">\n                    <thead>\n                      <tr>\n                        <th className=\"pb-2 text-left text-sm font-medium text-black\">Index</th>\n                        <th className=\"pb-2 text-right text-sm font-medium text-black\">Value</th>\n                        <th className=\"pb-2 text-right text-sm font-medium text-black\">Change</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {analysis.marketSnapshot.majorIndices.map((index, i) => (\n                        <tr key={i}>\n                          <td className=\"py-2 text-sm text-black\">{index.name}</td>\n                          <td className=\"py-2 text-sm text-black text-right\">{index.value.toLocaleString('en-IN')}</td>\n                          <td className={`py-2 text-sm text-right font-medium ${getChangeColor(index.change)}`}>\n                            {index.change >= 0 ? '+' : ''}{index.change.toFixed(2)}%\n                          </td>\n                        </tr>\n                      ))}\n                    </tbody>\n                  </table>\n                </div>\n                \n                <div>\n                  <h4 className=\"text-lg font-medium mb-3 text-black\">Key Rates</h4>\n                  <table className=\"min-w-full\">\n                    <thead>\n                      <tr>\n                        <th className=\"pb-2 text-left text-sm font-medium text-black\">Rate</th>\n                        <th className=\"pb-2 text-right text-sm font-medium text-black\">Value</th>\n                        <th className=\"pb-2 text-right text-sm font-medium text-black\">Change</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {analysis.marketSnapshot.keyRates.map((rate, i) => (\n                        <tr key={i}>\n                          <td className=\"py-2 text-sm text-black\">{rate.name}</td>\n                          <td className=\"py-2 text-sm text-black text-right\">{rate.value.toFixed(2)}%</td>\n                          <td className={`py-2 text-sm text-right font-medium ${getChangeColor(rate.change)}`}>\n                            {rate.change >= 0 ? '+' : ''}{rate.change.toFixed(2)}%\n                          </td>\n                        </tr>\n                      ))}\n                    </tbody>\n                  </table>\n                </div>\n              </div>\n            </div>\n          </div>\n        );\n      \n      case 'recommendations':\n        return (\n          <div className=\"space-y-6\">\n            <div className=\"bg-white p-6 rounded-lg border border-gray-200\">\n              <h3 className=\"text-xl font-semibold mb-4 text-black\">Top Stock Recommendations</h3>\n              <table className=\"min-w-full\">\n                <thead>\n                  <tr>\n                    <th className=\"pb-2 text-left text-sm font-medium text-black\">Stock</th>\n                    <th className=\"pb-2 text-left text-sm font-medium text-black\">Rec</th>\n                    <th className=\"pb-2 text-right text-sm font-medium text-black\">Price</th>\n                    <th className=\"pb-2 text-right text-sm font-medium text-black\">Target</th>\n                    <th className=\"pb-2 text-right text-sm font-medium text-black\">Upside</th>\n                    <th className=\"pb-2 text-center text-sm font-medium text-black\">Risk</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {analysis.topStockRecommendations.map((stock, i) => (\n                    <tr key={i} className=\"border-t border-gray-100\">\n                      <td className=\"py-3 text-sm\">\n                        <div className=\"font-medium text-black\">{stock.ticker}</div>\n                        <div className=\"text-gray-600 text-xs\">{stock.companyName}</div>\n                      </td>\n                      <td className=\"py-3 text-sm\">\n                        <span className={`px-2 py-1 text-xs font-medium rounded ${\n                          stock.recommendationType === 'buy' ? 'bg-green-50 text-green-700' : \n                          stock.recommendationType === 'sell' ? 'bg-red-50 text-red-700' : \n                          'bg-gray-50 text-black'\n                        }`}>\n                          {stock.recommendationType.toUpperCase()}\n                        </span>\n                      </td>\n                      <td className=\"py-3 text-sm text-black text-right\">₹{stock.currentPrice.toLocaleString('en-IN')}</td>\n                      <td className=\"py-3 text-sm text-black text-right\">₹{stock.targetPrice.toLocaleString('en-IN')}</td>\n                      <td className=\"py-3 text-sm text-right font-medium\">\n                        <span className={getChangeColor(stock.potentialUpside)}>\n                          {stock.potentialUpside >= 0 ? '+' : ''}{stock.potentialUpside.toFixed(1)}%\n                        </span>\n                      </td>\n                      <td className=\"py-3 text-sm text-center\">\n                        <span className={`px-2 py-1 text-xs font-medium rounded ${\n                          stock.riskLevel === 'high' ? 'bg-red-50 text-red-700' : \n                          stock.riskLevel === 'medium' ? 'bg-yellow-50 text-yellow-700' : \n                          'bg-green-50 text-green-700'\n                        }`}>\n                          {stock.riskLevel.toUpperCase()}\n                        </span>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n            \n            {analysis.topStockRecommendations.map((stock, i) => (\n              <div key={i} className=\"bg-white p-5 rounded-lg border border-gray-200\">\n                <div className=\"flex justify-between items-start\">\n                  <div>\n                    <h3 className=\"text-lg font-semibold text-black\">{stock.ticker} - {stock.companyName}</h3>\n                    <div className=\"mt-1 flex items-center text-sm\">\n                      <span className={`px-2 py-1 text-xs font-medium rounded mr-2 ${\n                        stock.recommendationType === 'buy' ? 'bg-green-50 text-green-700' : \n                        stock.recommendationType === 'sell' ? 'bg-red-50 text-red-700' : \n                        'bg-gray-50 text-black'\n                      }`}>\n                        {stock.recommendationType.toUpperCase()}\n                      </span>\n                      <span className=\"text-gray-600\">{stock.timeHorizon} • {stock.riskLevel.toUpperCase()} Risk</span>\n                    </div>\n                  </div>\n                  <div className=\"text-right\">\n                    <div className=\"text-xl font-semibold text-black\">₹{stock.targetPrice.toLocaleString('en-IN')}</div>\n                    <div className={`text-sm font-medium ${getChangeColor(stock.potentialUpside)}`}>\n                      {stock.potentialUpside >= 0 ? '+' : ''}{stock.potentialUpside.toFixed(1)}% upside\n                    </div>\n                  </div>\n                </div>\n                \n                <div className=\"mt-4\">\n                  <h4 className=\"text-sm font-medium text-black mb-2\">Investment Rationale</h4>\n                  <ul className=\"list-disc pl-5 text-sm text-gray-800 space-y-1\">\n                    {stock.rationale.map((point, j) => (\n                      <li key={j}>{point}</li>\n                    ))}\n                  </ul>\n                </div>\n              </div>\n            ))}\n          </div>\n        );\n      \n      case 'sectors':\n        return (\n          <div className=\"space-y-6\">\n            {analysis.sectorOutlooks.map((sector, i) => (\n              <div key={i} className=\"bg-white p-5 rounded-lg border border-gray-200\">\n                <div className=\"flex justify-between items-start\">\n                  <div>\n                    <h3 className=\"text-lg font-semibold text-black\">{sector.sector}</h3>\n                    <div className=\"mt-1 flex items-center text-sm\">\n                      <span className={`px-2 py-1 text-xs font-medium rounded mr-2 ${\n                        sector.sentiment === 'bullish' ? 'bg-green-50 text-green-700' : \n                        sector.sentiment === 'bearish' ? 'bg-red-50 text-red-700' : \n                        'bg-gray-50 text-black'\n                      }`}>\n                        {sector.sentiment.toUpperCase()}\n                      </span>\n                      <span className=\"text-gray-600\">Impact: {sector.impactScore}/10</span>\n                    </div>\n                  </div>\n                </div>\n                \n                <div className=\"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4\">\n                  <div>\n                    <h4 className=\"text-sm font-medium text-black mb-2\">Key Drivers</h4>\n                    <ul className=\"list-disc pl-5 text-sm text-gray-800 space-y-1\">\n                      {sector.keyDrivers.map((driver, j) => (\n                        <li key={j}>{driver}</li>\n                      ))}\n                    </ul>\n                  </div>\n                  \n                  <div>\n                    <h4 className=\"text-sm font-medium text-black mb-2\">Opportunities</h4>\n                    <ul className=\"list-disc pl-5 text-sm text-gray-800 space-y-1\">\n                      {sector.opportunities.map((opportunity, j) => (\n                        <li key={j}>{opportunity}</li>\n                      ))}\n                    </ul>\n                  </div>\n                </div>\n                \n                <div className=\"mt-4\">\n                  <h4 className=\"text-sm font-medium text-black mb-2\">Recommended Stocks</h4>\n                  <div className=\"flex flex-wrap gap-2\">\n                    {sector.recommendedStocks.map((stock, j) => (\n                      <span key={j} className=\"px-2 py-1 bg-gray-50 text-black text-xs font-medium rounded\">\n                        {stock}\n                      </span>\n                    ))}\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        );\n      \n      case 'macro':\n        return (\n          <div className=\"space-y-6\">\n            {analysis.macroTrends.map((trend, i) => (\n              <div key={i} className=\"bg-white p-5 rounded-lg border border-gray-200\">\n                <h3 className=\"text-lg font-semibold mb-2 text-black\">{trend.title}</h3>\n                <div className=\"text-sm text-gray-800 mb-4\" dangerouslySetInnerHTML={{ __html: trend.description }} />\n                \n                <div className=\"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4\">\n                  <div>\n                    <h4 className=\"text-sm font-medium text-black mb-2\">Affected Sectors</h4>\n                    <div className=\"flex flex-wrap gap-2\">\n                      {trend.affectedSectors.map((sector, j) => (\n                        <span key={j} className=\"px-2 py-1 bg-gray-50 text-black text-xs font-medium rounded\">\n                          {sector}\n                        </span>\n                      ))}\n                    </div>\n                  </div>\n                  \n                  <div>\n                    <h4 className=\"text-sm font-medium text-black mb-2\">Investment Implications</h4>\n                    <ul className=\"list-disc pl-5 text-sm text-gray-800 space-y-1\">\n                      {trend.investmentImplications.map((implication, j) => (\n                        <li key={j}>{implication}</li>\n                      ))}\n                    </ul>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        );\n      \n      case 'strategies':\n        return (\n          <div className=\"space-y-6\">\n            {analysis.investmentStrategies.map((strategy, i) => (\n              <div key={i} className=\"bg-white p-5 rounded-lg border border-gray-200\">\n                <h3 className=\"text-lg font-semibold mb-2 text-black\">{strategy.strategyName}</h3>\n                \n                <div className=\"mb-4\">\n                  <h4 className=\"text-sm font-medium text-black mb-2\">Allocation</h4>\n                  <div className=\"flex flex-wrap gap-2\">\n                    {Object.entries(strategy.allocationRecommendation).map(([key, value]) => (\n                      <div key={key} className=\"px-3 py-2 bg-gray-50 rounded\">\n                        <div className=\"text-xs text-gray-600\">{key}</div>\n                        <div className=\"text-sm font-medium text-black\">{value}%</div>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n                \n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                  <div>\n                    <h4 className=\"text-sm font-medium text-black mb-2\">Top Picks</h4>\n                    <div className=\"flex flex-wrap gap-2\">\n                      {strategy.topPicks.map((pick, j) => (\n                        <span key={j} className=\"px-2 py-1 bg-gray-50 text-black text-xs font-medium rounded\">\n                          {pick}\n                        </span>\n                      ))}\n                    </div>\n                  </div>\n                  \n                  <div>\n                    <h4 className=\"text-sm font-medium text-black mb-2\">Implementation</h4>\n                    <ol className=\"list-decimal pl-5 text-sm text-gray-800 space-y-1\">\n                      {strategy.implementationSteps.map((step, j) => (\n                        <li key={j}>{step}</li>\n                      ))}\n                    </ol>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        );\n      \n      default:\n        return null;\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-white\">\n      <header className=\"bg-white border-b border-gray-200\">\n        <div className=\"max-w-6xl mx-auto px-4\">\n          <div className=\"flex justify-between items-center h-16\">\n            <h1 className=\"text-xl font-bold text-black\">Indian Market Intelligence</h1>\n            <div className=\"flex items-center space-x-4\">\n              <span className=\"text-sm text-gray-600\">Updated: {formattedDate}</span>\n              <button\n                onClick={refreshAnalysis}\n                className=\"px-3 py-1 bg-black text-white text-sm rounded\"\n                disabled={isLoading}\n              >\n                {isLoading ? 'Refreshing...' : 'Refresh'}\n              </button>\n            </div>\n          </div>\n        </div>\n      </header>\n      \n      <main className=\"max-w-6xl mx-auto px-4 py-6\">\n        <div className=\"mb-6 border-b border-gray-200\">\n          <nav className=\"flex space-x-6\">\n            {['overview', 'recommendations', 'sectors', 'macro', 'strategies'].map((tab) => (\n              <button\n                key={tab}\n                onClick={() => setSelectedTab(tab)}\n                className={`px-1 py-3 text-sm font-medium border-b-2 ${\n                  selectedTab === tab ? 'border-black text-black' : 'border-transparent text-gray-500 hover:text-black'\n                }`}\n              >\n                {tab.charAt(0).toUpperCase() + tab.slice(1)}\n              </button>\n            ))}\n          </nav>\n        </div>\n        \n        {renderTabContent()}\n        \n        <div className=\"mt-8 text-xs text-gray-600 p-4 bg-white rounded border border-gray-200\">\n          <p dangerouslySetInnerHTML={{ __html: analysis.disclaimer }} />\n        </div>\n      </main>\n    </div>\n  );\n};\n\nexport default IndianMarketDashboard;"],"names":[],"mappings":"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","debugId":null}}]
}