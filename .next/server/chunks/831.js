"use strict";exports.id=831,exports.ids=[831],exports.modules={48831:(e,s,t)=>{t.r(s),t.d(s,{default:()=>p});var a=t(60687),l=t(43210);let r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),d=(...e)=>e.filter((e,s,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===s).join(" ").trim();var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,l.forwardRef)(({color:e="currentColor",size:s=24,strokeWidth:t=2,absoluteStrokeWidth:a,className:r="",children:i,iconNode:c,...o},x)=>(0,l.createElement)("svg",{ref:x,...n,width:s,height:s,stroke:e,strokeWidth:a?24*Number(t)/Number(s):t,className:d("lucide",r),...o},[...c.map(([e,s])=>(0,l.createElement)(e,s)),...Array.isArray(i)?i:[i]])),c=(e,s)=>{let t=(0,l.forwardRef)(({className:t,...a},n)=>(0,l.createElement)(i,{ref:n,iconNode:s,className:d(`lucide-${r(e)}`,t),...a}));return t.displayName=`${e}`,t},o=c("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),x=c("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),m=c("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),h=c("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),b=c("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]),g=c("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]),u=c("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);var y=t(51847);let j=({value:e,maxValue:s})=>{let t=Math.min(100,Math.round(e/s*100)||0),l="bg-black";return t>=90?l="bg-gray-900":t>=70&&(l="bg-gray-700"),(0,a.jsxs)("div",{className:"relative pt-1",children:[(0,a.jsxs)("div",{className:"flex mb-2 items-center justify-between",children:[(0,a.jsx)("div",{children:(0,a.jsx)("span",{className:"text-xs font-semibold inline-block text-gray-800",children:"Healthy spending: <70%"})}),(0,a.jsx)("div",{className:"text-right",children:(0,a.jsxs)("span",{className:"text-xs font-semibold inline-block text-gray-800",children:[t,"%"]})})]}),(0,a.jsx)("div",{className:"overflow-hidden h-4 mb-2 text-xs flex rounded-full bg-gray-200",children:(0,a.jsx)("div",{style:{width:`${t}%`},className:`shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center ${l}`})}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-2 mt-4",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("span",{className:"h-3 w-3 rounded-full bg-black mr-2"}),(0,a.jsx)("span",{className:"text-xs text-gray-800",children:"0-70% (Good)"})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("span",{className:"h-3 w-3 rounded-full bg-gray-700 mr-2"}),(0,a.jsx)("span",{className:"text-xs text-gray-800",children:"71-90% (Warning)"})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("span",{className:"h-3 w-3 rounded-full bg-gray-900 mr-2"}),(0,a.jsx)("span",{className:"text-xs text-gray-800",children:"91-100% (Critical)"})]})]})]})},f=({label:e,value:s})=>(0,a.jsxs)("div",{className:"p-4 border border-gray-200 rounded-lg bg-white",children:[(0,a.jsx)("p",{className:"text-sm text-gray-800",children:e}),(0,a.jsx)("p",{className:"text-xl font-semibold text-black",children:s})]}),v=()=>(0,a.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:[(0,a.jsx)("div",{className:"h-6 bg-gray-200 rounded w-1/3 mb-6"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsx)("div",{className:"h-32 bg-gray-200 rounded"}),(0,a.jsx)("div",{className:"h-32 bg-gray-200 rounded"}),(0,a.jsx)("div",{className:"h-32 bg-gray-200 rounded"})]}),(0,a.jsx)("div",{className:"h-8 bg-gray-200 rounded w-full mt-6"})]});function p(){let{transactions:e,isLoading:s,error:t,refetch:r}=(0,y.x)(),[d,n]=(0,l.useState)(null),[i,c]=(0,l.useState)(!1),[p,N]=(0,l.useState)("overall"),[w,k]=(0,l.useState)(0),[C,M]=(0,l.useState)(0),S=async()=>{try{c(!0),await r()}catch(e){console.error(e)}finally{c(!1)}},$=e=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(e),R=()=>{k(0),M(0)},z=(()=>{if(!d)return null;switch(p){case"monthly":return d.monthly;case"weekly":return d.weekly;default:return d.overall}})();return s&&!i?(0,a.jsx)(v,{}):(0,a.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-black",children:"Financial Summary"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"text-sm text-gray-700",children:i?"Refreshing...":"Updated just now"}),(0,a.jsx)("button",{onClick:S,className:`p-2 rounded-full hover:bg-gray-100 focus:outline-none ${i?"animate-spin":""}`,disabled:i,children:(0,a.jsx)(o,{size:16,className:"text-gray-800"})})]})]}),(0,a.jsxs)("div",{className:"flex border-b border-gray-200 mb-6",children:[(0,a.jsx)("button",{onClick:()=>{N("overall"),R()},className:`py-2 px-4 font-medium text-sm ${"overall"===p?"text-black border-b-2 border-black":"text-gray-700 hover:text-black"}`,children:"Overall"}),(0,a.jsx)("button",{onClick:()=>N("monthly"),className:`py-2 px-4 font-medium text-sm ${"monthly"===p?"text-black border-b-2 border-black":"text-gray-700 hover:text-black"}`,children:"Monthly"}),(0,a.jsx)("button",{onClick:()=>N("weekly"),className:`py-2 px-4 font-medium text-sm ${"weekly"===p?"text-black border-b-2 border-black":"text-gray-700 hover:text-black"}`,children:"Weekly"})]}),"overall"!==p&&d&&(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("button",{onClick:()=>"weekly"===p?k(e=>e-1):M(e=>e-1),className:"p-2 rounded-full hover:bg-gray-100 focus:outline-none",children:(0,a.jsx)(x,{size:16,className:"text-gray-800"})}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(m,{size:16,className:"text-gray-800 mr-2"}),(0,a.jsx)("span",{className:"font-medium text-black",children:"weekly"===p?d.currentWeek:d.currentMonth})]}),(0,a.jsx)("button",{onClick:()=>"weekly"===p?k(e=>e+1):M(e=>e+1),className:"p-2 rounded-full hover:bg-gray-100 focus:outline-none",children:(0,a.jsx)(h,{size:16,className:"text-gray-800"})})]}),t&&(0,a.jsxs)("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:[(0,a.jsxs)("p",{className:"text-red-800 font-medium flex items-center",children:[(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2",children:[(0,a.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,a.jsx)("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),(0,a.jsx)("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),t]}),(0,a.jsx)("button",{onClick:S,className:"mt-2 px-4 py-2 border border-gray-300 rounded-md text-sm font-medium bg-white hover:bg-gray-50 focus:outline-none",children:"Retry"})]}),(0,a.jsx)(l.Suspense,{fallback:(0,a.jsx)(v,{}),children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsx)("div",{className:"rounded-lg border border-gray-200 p-6 hover:shadow-md transition-shadow bg-white",children:(0,a.jsx)("div",{className:"flex items-start justify-between",children:(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center mb-2",children:[(0,a.jsx)(b,{size:20,className:"text-gray-800 mr-2"}),(0,a.jsx)("p",{className:"text-base font-medium text-gray-800",children:"Total Balance"})]}),(0,a.jsx)("p",{className:"text-3xl font-bold text-black mb-2",children:z?$(z.totalBalance):"₹0"}),(0,a.jsx)("div",{className:"mt-1",children:(0,a.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${z&&z.totalBalance>=0?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:z&&z.totalBalance>=0?"Positive Balance":"Negative Balance"})})]})})}),(0,a.jsx)("div",{className:"rounded-lg border border-gray-200 p-6 hover:shadow-md transition-shadow bg-white",children:(0,a.jsx)("div",{className:"flex items-start justify-between",children:(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center mb-2",children:[(0,a.jsx)(g,{size:20,className:"text-green-600 mr-2"}),(0,a.jsx)("p",{className:"text-base font-medium text-gray-800",children:"Total Income"})]}),(0,a.jsx)("p",{className:"text-3xl font-bold text-black mb-2",children:z?$(z.totalCredited):"₹0"}),(0,a.jsx)("div",{className:"mt-1",children:(0,a.jsx)("div",{className:"flex items-center text-sm",children:(0,a.jsx)("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs font-medium",children:"Income"})})})]})})}),(0,a.jsx)("div",{className:"rounded-lg border border-gray-200 p-6 hover:shadow-md transition-shadow bg-white",children:(0,a.jsx)("div",{className:"flex items-start justify-between",children:(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center mb-2",children:[(0,a.jsx)(u,{size:20,className:"text-red-600 mr-2"}),(0,a.jsx)("p",{className:"text-base font-medium text-gray-800",children:"Total Expenses"})]}),(0,a.jsx)("p",{className:"text-3xl font-bold text-black mb-2",children:z?$(z.totalSpent):"₹0"}),(0,a.jsx)("div",{className:"mt-1",children:(0,a.jsx)("div",{className:"flex items-center text-sm",children:(0,a.jsx)("span",{className:"bg-red-100 text-red-800 px-2 py-1 rounded-full text-xs font-medium",children:"Expenses"})})})]})})})]})}),z&&z.totalCredited>0&&(0,a.jsxs)("div",{className:"mt-6 p-6 border border-gray-200 rounded-lg bg-white",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsx)("p",{className:"text-base font-medium text-black",children:"Spending vs Income"}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("span",{className:"inline-block h-3 w-3 rounded-full bg-black mr-1"}),(0,a.jsx)("p",{className:"text-sm font-medium text-gray-800",children:`${Math.round(z.totalSpent/z.totalCredited*100)}%`})]})]}),(0,a.jsx)(j,{value:z.totalSpent,maxValue:z.totalCredited})]}),z&&(0,a.jsxs)("div",{className:"mt-6 grid grid-cols-2 gap-4",children:[(0,a.jsx)(f,{label:"Savings Rate",value:z.totalCredited>0?`${Math.round((z.totalCredited-z.totalSpent)/z.totalCredited*100)}%`:"0%"}),(0,a.jsx)(f,{label:"Average Transaction",value:$((z.totalCredited+z.totalSpent)/("weekly"===p?7:"monthly"===p?30:Math.max(e.length,1)))})]}),(0,a.jsx)("div",{className:"mt-6 flex justify-end",children:(0,a.jsx)("button",{className:"px-4 py-2 bg-black text-white rounded-md text-sm font-medium hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition-colors",children:"View All Transactions"})})]})}}};