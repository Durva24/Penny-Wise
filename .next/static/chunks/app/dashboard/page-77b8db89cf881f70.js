(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{14255:(e,t,s)=>{Promise.resolve().then(s.bind(s,38784))},38784:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>P});var a=s(95155),r=s(12115),n=s(84307);let l=async e=>{try{let t=new URL("https://script.google.com/macros/s/AKfycbwpVDMAbxpwKP0mwyfj_b19cMUMx4JOeVLPgjDcHlRQYX2NHvCm9OOFmApbGD3yYbn-dg/exec");t.searchParams.append("action","addTransaction");let s={name:e.name,type:e.type,amount:e.amount,transactionType:e.transactionType,category:e.category||"",note:e.note||"",date:e.date||new Date().toISOString().split("T")[0]},a=await fetch(t.toString(),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s),redirect:"follow"});if(!a.ok)throw Error("HTTP error! Status: ".concat(a.status));let r=a.headers.get("content-type");if(r&&r.includes("application/json"))return await a.json();{let t=await a.text();return{success:!0,message:t,data:e}}}catch(e){throw console.error("Error adding transaction:",e),e}},o={Credit:["Salary","Investments","Gift","Refund","Business","Other"],Debit:["Food","Transport","Shopping","Bills","Entertainment","Healthcare","Education","Housing","Other"]};function i(){let[e,t]=(0,r.useState)(!1),[s,n]=(0,r.useState)(!1),[i,c]=(0,r.useState)(!1),[d,m]=(0,r.useState)(null),[x,h]=(0,r.useState)(!1),[u,g]=(0,r.useState)([]),[y,p]=(0,r.useState)({name:"",type:"Debit",amount:0,transactionType:"Cash",category:"",note:"",date:new Date().toISOString().split("T")[0]}),j=e=>{p(t=>({...t,type:e,name:"",amount:0,category:"",note:"",date:new Date().toISOString().split("T")[0]})),t(!0),m(null),c(!1)},f=e=>{let{name:t,value:s}=e.target;p(e=>({...e,[t]:"amount"===t?parseFloat(s)||0:s}))},b=async e=>{if(e.preventDefault(),!y.name.trim()){m("Please enter a description");return}if(y.amount<=0){m("Amount must be greater than 0");return}n(!0),m(null);try{await l(y),g(e=>[y,...e].slice(0,5));let e=JSON.parse(localStorage.getItem("recentTransactions")||"[]");localStorage.setItem("recentTransactions",JSON.stringify([y,...e].slice(0,5))),c(!0),setTimeout(()=>{c(!1),t(!1),p({name:"",type:y.type,amount:0,transactionType:"Cash",category:"",note:"",date:new Date().toISOString().split("T")[0]})},1500)}catch(e){m("Failed to add transaction. Please try again."),console.error(e)}finally{n(!1)}};return(0,r.useEffect)(()=>{let e=localStorage.getItem("recentTransactions");if(e)try{g(JSON.parse(e))}catch(e){console.error("Error parsing saved transactions:",e)}},[]),(0,a.jsxs)("div",{className:"w-full max-w-4xl mx-auto",children:[(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6",children:[(0,a.jsx)("h2",{className:"text-lg font-medium text-gray-800 mb-4 text-center",children:"New Transaction"}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row justify-center space-y-3 sm:space-y-0 sm:space-x-6",children:[(0,a.jsx)("button",{onClick:()=>j("Credit"),className:"px-8 py-3.5 bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700 text-white font-medium rounded-lg shadow transition duration-200 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2",children:(0,a.jsxs)("div",{className:"flex items-center justify-center",children:[(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,a.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),(0,a.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Credit"]})}),(0,a.jsx)("button",{onClick:()=>j("Debit"),className:"px-8 py-3.5 bg-gradient-to-r from-rose-500 to-rose-600 hover:from-rose-600 hover:to-rose-700 text-white font-medium rounded-lg shadow transition duration-200 focus:outline-none focus:ring-2 focus:ring-rose-500 focus:ring-offset-2",children:(0,a.jsxs)("div",{className:"flex items-center justify-center",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,a.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})}),"Add Debit"]})})]})]}),u.length>0&&(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("button",{onClick:()=>h(!x),className:"flex items-center justify-center mx-auto text-gray-600 hover:text-gray-900",children:[(0,a.jsxs)("span",{className:"mr-2",children:[x?"Hide":"Show"," recent transactions"]}),(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 transform transition-transform ".concat(x?"rotate-180":""),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,a.jsx)("polyline",{points:"6 9 12 15 18 9"})})]}),x&&(0,a.jsxs)("div",{className:"mt-4 bg-white rounded-lg shadow overflow-hidden",children:[(0,a.jsx)("div",{className:"px-4 py-3 bg-gray-50 border-b",children:(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-700",children:"Recent Transactions"})}),(0,a.jsx)("div",{className:"divide-y divide-gray-200",children:u.map((e,t)=>(0,a.jsxs)("div",{className:"px-4 py-3 hover:bg-gray-50",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-800",children:e.name}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[e.category," • ",e.transactionType," • ",new Date(e.date).toLocaleDateString()]})]}),(0,a.jsxs)("div",{className:"font-medium ".concat("Credit"===e.type?"text-emerald-600":"text-rose-600"),children:["Credit"===e.type?"+":"-","₹",e.amount.toFixed(2)]})]}),e.note&&(0,a.jsxs)("p",{className:"mt-1 text-sm text-gray-500",children:["Note: ",e.note]})]},t))})]})]}),e&&(0,a.jsx)("div",{className:"fixed inset-0 bg-gray-800 bg-opacity-75 z-50 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg w-full max-w-md relative animate-fade-in",children:[(0,a.jsx)("button",{onClick:()=>t(!1),className:"absolute top-4 right-4 text-gray-600 hover:text-gray-900","aria-label":"Close modal",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center mb-6",children:[(0,a.jsx)("div",{className:"h-10 w-10 rounded-full flex items-center justify-center mr-3 ".concat("Credit"===y.type?"bg-emerald-100":"bg-rose-100"),children:"Credit"===y.type?(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-emerald-600",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,a.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),(0,a.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}):(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-rose-600",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,a.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})})}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Credit"===y.type?"Add Credit":"Add Debit"})]}),i&&(0,a.jsx)("div",{className:"mb-4 p-3 bg-emerald-100 text-emerald-700 rounded-lg",children:"Transaction added successfully!"}),d&&(0,a.jsx)("div",{className:"mb-4 p-3 bg-rose-100 text-rose-700 rounded-lg",children:d}),(0,a.jsxs)("form",{onSubmit:b,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-800",children:"Description"}),(0,a.jsx)("input",{id:"name",name:"name",type:"text",required:!0,value:y.name,onChange:f,className:"w-full p-2.5 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900",placeholder:"Enter transaction description"})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("label",{htmlFor:"amount",className:"block text-sm font-medium text-gray-800",children:"Amount (₹)"}),(0,a.jsx)("input",{id:"amount",name:"amount",type:"number",required:!0,min:"0.01",step:"0.01",value:y.amount||"",onChange:f,className:"w-full p-2.5 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900",placeholder:"0.00"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("label",{htmlFor:"transactionType",className:"block text-sm font-medium text-gray-800",children:"Payment Method"}),(0,a.jsxs)("select",{id:"transactionType",name:"transactionType",value:y.transactionType,onChange:f,className:"w-full p-2.5 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900",children:[(0,a.jsx)("option",{value:"Cash",children:"Cash"}),(0,a.jsx)("option",{value:"Card",children:"Card"}),(0,a.jsx)("option",{value:"UPI",children:"UPI"}),(0,a.jsx)("option",{value:"Bank Transfer",children:"Bank Transfer"}),(0,a.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-800",children:"Category"}),(0,a.jsxs)("select",{id:"category",name:"category",value:y.category,onChange:f,className:"w-full p-2.5 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900",children:[(0,a.jsx)("option",{value:"",children:"Select category"}),o[y.type].map(e=>(0,a.jsx)("option",{value:e,children:e},e))]})]})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-800",children:"Date"}),(0,a.jsx)("input",{id:"date",name:"date",type:"date",required:!0,value:y.date,onChange:f,className:"w-full p-2.5 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900"})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("label",{htmlFor:"note",className:"block text-sm font-medium text-gray-800",children:"Note (Optional)"}),(0,a.jsx)("textarea",{id:"note",name:"note",rows:2,value:y.note,onChange:f,className:"w-full p-2.5 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900",placeholder:"Additional details..."})]}),(0,a.jsx)("button",{type:"submit",disabled:s,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-base font-medium text-white ".concat("Credit"===y.type?"bg-emerald-600 hover:bg-emerald-700":"bg-rose-600 hover:bg-rose-700"," focus:outline-none focus:ring-2 focus:ring-offset-2 ").concat("Credit"===y.type?"focus:ring-emerald-500":"focus:ring-rose-500"," ").concat(s?"opacity-75 cursor-not-allowed":""),children:s?(0,a.jsxs)("span",{className:"flex items-center",children:[(0,a.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):"Save ".concat(y.type)})]})]})]})})]})}function c(){return(0,a.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-white p-4 shadow-sm",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Smart Insights"}),(0,a.jsx)("div",{className:"rounded-full bg-gray-100 p-1",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,a.jsx)("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"})})})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("div",{className:"rounded-lg border border-gray-200 p-3",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("div",{className:"rounded-full bg-blue-100 p-2 flex-shrink-0",children:(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-blue-600",children:[(0,a.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,a.jsx)("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),(0,a.jsx)("line",{x1:"12",y1:"16",x2:"12",y2:"16"})]})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-900",children:"Subscription Alert"}),(0,a.jsx)("p",{className:"mt-1 text-xs text-gray-600",children:"You have 3 subscriptions totaling $45.97 per month that could be reviewed."}),(0,a.jsx)("button",{className:"mt-2 text-xs font-medium text-blue-600 hover:text-blue-800",children:"Review Now"})]})]})}),(0,a.jsx)("div",{className:"rounded-lg border border-gray-200 p-3",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("div",{className:"rounded-full bg-green-100 p-2 flex-shrink-0",children:(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-green-600",children:[(0,a.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),(0,a.jsx)("polyline",{points:"19 12 12 19 5 12"})]})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-900",children:"Savings Opportunity"}),(0,a.jsx)("p",{className:"mt-1 text-xs text-gray-600",children:"Based on your spending, you can save an additional $250 this month."}),(0,a.jsx)("button",{className:"mt-2 text-xs font-medium text-green-600 hover:text-green-800",children:"See How"})]})]})})]}),(0,a.jsx)("button",{className:"mt-3 w-full rounded-lg border border-gray-200 bg-gray-50 py-2 text-xs font-medium text-gray-600 hover:bg-gray-100",children:"View All Insights"})]})}var d=s(77283),m=s(83540),x=s(8782),h=s(34e3),u=s(54811),g=s(94517),y=s(24026);let p=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#EC4899","#14B8A6","#F97316","#6366F1","#06B6D4"],j=()=>(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center h-64",children:[(0,a.jsx)("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"}),(0,a.jsx)("p",{className:"mt-4 text-gray-700",children:"Loading spending data..."})]}),f=()=>{let{transactions:e,isLoading:t,error:s}=(0,n.x)(),[l,o]=(0,r.useState)(void 0),[i,c]=(0,r.useState)("category"),[f,b]=(0,r.useState)([]),[w,N]=(0,r.useState)(0),v=e=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(e);return((0,r.useEffect)(()=>{if(!e.length){b([]),N(0);return}let t="category"===i?"Category":"Transaction Type",s=Object.entries(e.reduce((e,s)=>{if((null==s?void 0:s.Type)==="Debit"){let a=s[t]||"Uncategorized",r="string"==typeof s.Amount?parseFloat(s.Amount):Number(s.Amount);isNaN(r)||(e[a]=(e[a]||0)+r)}return e},{})).map(e=>{let[t,s]=e;return{name:t,value:s}}).sort((e,t)=>t.value-e.value);b(s),N(s.reduce((e,t)=>e+t.value,0))},[e,i]),t)?(0,a.jsx)("div",{className:"bg-white p-8 rounded-lg shadow-md text-center",children:(0,a.jsx)(j,{})}):s?(0,a.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4 text-gray-900",children:"Spending Analysis"}),(0,a.jsxs)("div",{className:"bg-red-50 p-4 rounded-md border border-red-200",children:[(0,a.jsxs)("p",{className:"text-red-700",children:["Error loading data: ",s]}),(0,a.jsx)("p",{className:"text-gray-700 mt-2",children:"Please try again later or contact support if the issue persists."})]})]}):0===f.length?(0,a.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md text-center",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4 text-gray-900",children:"Spending Analysis"}),(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center h-64",children:[(0,a.jsx)("svg",{className:"w-16 h-16 text-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,a.jsx)("p",{className:"mt-4 text-gray-700",children:"No expense data available"}),(0,a.jsx)("p",{className:"text-gray-600 text-sm mt-2",children:"Try adding some transactions to see your spending breakdown."})]})]}):(0,a.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Spending Analysis"}),(0,a.jsxs)("div",{className:"inline-flex rounded-md shadow-sm",children:[(0,a.jsx)("button",{type:"button",onClick:()=>c("category"),className:"px-4 py-2 text-sm font-medium rounded-l-md border ".concat("category"===i?"bg-blue-50 text-blue-800 border-blue-300":"bg-white text-gray-800 border-gray-300 hover:bg-gray-50"),children:"By Category"}),(0,a.jsx)("button",{type:"button",onClick:()=>c("transactionType"),className:"px-4 py-2 text-sm font-medium rounded-r-md border-t border-r border-b ".concat("transactionType"===i?"bg-blue-50 text-blue-800 border-blue-300":"bg-white text-gray-800 border-gray-300 hover:bg-gray-50"),children:"By Transaction Type"})]})]}),(0,a.jsxs)("div",{className:"text-center mb-6",children:[(0,a.jsx)("p",{className:"text-gray-600 text-sm uppercase tracking-wider",children:"Total Expenses"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:v(w)})]}),(0,a.jsx)(r.Suspense,{fallback:(0,a.jsx)(j,{}),children:(0,a.jsx)("div",{className:"h-72",children:(0,a.jsx)(m.u,{width:"100%",height:"100%",children:(0,a.jsxs)(x.r,{children:[(0,a.jsx)(h.F,{data:f,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:4,dataKey:"value",activeIndex:l,activeShape:e=>{let t=Math.PI/180,{cx:s,cy:r,midAngle:n,innerRadius:l,outerRadius:o,startAngle:i,endAngle:c,fill:m,payload:x,percent:h,value:u}=e,g=Math.sin(-t*n),y=Math.cos(-t*n),p=s+(o+10)*y,j=r+(o+10)*g,f=s+(o+30)*y,b=r+(o+30)*g,w=f+(y>=0?1:-1)*22,N=y>=0?"start":"end";return(0,a.jsxs)("g",{children:[(0,a.jsx)(d.h,{cx:s,cy:r,innerRadius:l,outerRadius:o,startAngle:i,endAngle:c,fill:m}),(0,a.jsx)(d.h,{cx:s,cy:r,startAngle:i,endAngle:c,innerRadius:o+6,outerRadius:o+10,fill:m}),(0,a.jsx)("path",{d:"M".concat(p,",").concat(j,"L").concat(f,",").concat(b,"L").concat(w,",").concat(b),stroke:m,fill:"none"}),(0,a.jsx)("circle",{cx:w,cy:b,r:2,fill:m,stroke:"none"}),(0,a.jsx)("text",{x:w+(y>=0?1:-1)*12,y:b,textAnchor:N,fill:"#1F2937",className:"text-xs font-medium",children:x.name}),(0,a.jsx)("text",{x:w+(y>=0?1:-1)*12,y:b,dy:18,textAnchor:N,fill:"#4B5563",className:"text-xs",children:"".concat(v(u)," (").concat((100*h).toFixed(1),"%)")})]})},onMouseEnter:(e,t)=>{o(t)},onMouseLeave:()=>{o(void 0)},children:f.map((e,t)=>(0,a.jsx)(u.f,{fill:p[t%p.length],stroke:"none"},"cell-".concat(t)))}),(0,a.jsx)(g.m,{content:(0,a.jsx)(e=>{let{active:t,payload:s}=e;if(t&&s&&s.length){let e=s[0].payload,t=(e.value/w*100).toFixed(1);return(0,a.jsxs)("div",{className:"bg-white p-3 shadow-lg rounded-md border border-gray-200",children:[(0,a.jsx)("p",{className:"font-semibold text-gray-900",children:e.name}),(0,a.jsx)("p",{className:"text-gray-800",children:v(e.value)}),(0,a.jsxs)("p",{className:"text-gray-700",children:[t,"% of total"]})]})}return null},{})}),(0,a.jsx)(y.s,{content:e=>{let{payload:t}=e;return(0,a.jsx)("ul",{className:"flex flex-wrap justify-center gap-4 mt-6",children:t.map((e,t)=>(0,a.jsxs)("li",{className:"flex items-center gap-2 cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>o(t===l?void 0:t),children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.color}}),(0,a.jsx)("span",{className:"text-sm text-gray-900 ".concat(l===t?"font-medium":""),children:e.value})]},"legend-".concat(t)))})}})]})})})}),(0,a.jsxs)("div",{className:"mt-8 border-t pt-6",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Detailed Breakdown"}),(0,a.jsx)("div",{className:"overflow-x-auto rounded-lg border border-gray-200",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"category"===i?"Category":"Transaction Type"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Amount"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Percentage"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:f.map((e,t)=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors ".concat(l===t?"bg-blue-50":""),onMouseEnter:()=>o(t),onMouseLeave:()=>o(void 0),children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full mr-3 flex-shrink-0",style:{backgroundColor:p[t%p.length]}}),(0,a.jsx)("span",{className:"font-medium text-gray-900",children:e.name})]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right font-medium text-gray-900",children:v(e.value)}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-gray-700",children:[(e.value/w*100).toFixed(1),"%"]})]},t))}),(0,a.jsx)("tfoot",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{scope:"row",className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Total"}),(0,a.jsx)("td",{className:"px-6 py-3 text-right font-medium text-gray-900",children:v(w)}),(0,a.jsx)("td",{className:"px-6 py-3 text-right text-gray-700",children:"100%"})]})})]})})]})]})};var b=s(93504),w=s(94754),N=s(96025),v=s(16238),k=s(21374),S=s(3401),C=s(83394);let T=e=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(e),A=()=>(0,a.jsxs)("div",{className:"animate-pulse",children:[(0,a.jsx)("div",{className:"h-4 w-24 bg-gray-200 rounded mb-4"}),(0,a.jsx)("div",{className:"h-64 w-full bg-gray-200 rounded"})]}),D=e=>{let{message:t,retry:s}=e;return(0,a.jsxs)("div",{className:"py-6 flex flex-col items-center justify-center text-center",children:[(0,a.jsx)("div",{className:"mb-3 h-12 w-12 rounded-full bg-gray-100 flex items-center justify-center",children:(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-gray-800",children:[(0,a.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,a.jsx)("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),(0,a.jsx)("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]})}),(0,a.jsx)("h4",{className:"text-base font-medium text-gray-900",children:"Failed to load transaction data"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-700",children:t}),(0,a.jsx)("button",{onClick:s,className:"mt-4 rounded-lg border border-gray-400 bg-white px-4 py-2 text-sm font-medium text-gray-800 shadow-sm hover:bg-gray-50",children:"Try Again"})]})},L=()=>(0,a.jsxs)("div",{className:"py-6 flex flex-col items-center justify-center text-center",children:[(0,a.jsx)("div",{className:"mb-3 h-12 w-12 rounded-full bg-gray-100 flex items-center justify-center",children:(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-gray-700",children:[(0,a.jsx)("rect",{x:"2",y:"5",width:"20",height:"14",rx:"2"}),(0,a.jsx)("line",{x1:"2",y1:"10",x2:"22",y2:"10"})]})}),(0,a.jsx)("h4",{className:"text-base font-medium text-gray-900",children:"No transaction data available"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-700",children:"Your transactions will appear here once you add them."})]});function F(){let{transactions:e,isLoading:t,error:s,refetch:l}=(0,n.x)(),[o,i]=(0,r.useState)("all"),c=(0,r.useMemo)(()=>{if(!e.length)return{balanceHistory:[],monthlySummary:[],weeklySummary:[]};let t=e=>{if(!e)return new Date;let t=[/(\d{1,2})[-\/](\d{1,2})[-\/](\d{4})/,/(\d{4})[-\/](\d{1,2})[-\/](\d{1,2})/,/(\d{1,2})[-\/](\d{1,2})[-\/](\d{2})/];for(let s of t){let a=e.match(s);if(a){if(s===t[0])return new Date(Number(a[3]),Number(a[2])-1,Number(a[1]));if(s===t[1])return new Date(Number(a[1]),Number(a[2])-1,Number(a[3]));{let e=Number(a[3]);return new Date(e<50?2e3+e:1900+e,Number(a[2])-1,Number(a[1]))}}}let s=new Date(e);return isNaN(s.getTime())?new Date:s},s=[...e].sort((e,s)=>{let a=t(e.Date),r=t(s.Date);return a.getTime()-r.getTime()}),a=0,r=s.map((e,t)=>("Credit"===e.Type?a+=e.Amount:a-=e.Amount,{id:t,date:e.Date,name:e.Name,amount:e.Amount,type:e.Type,balance:a})),n={};s.forEach(e=>{let s=t(e.Date),a="".concat(s.getFullYear(),"-").concat(String(s.getMonth()+1).padStart(2,"0")),r=s.toLocaleString("default",{month:"short",year:"2-digit"});n[a]||(n[a]={date:r,balance:0,income:0,expense:0}),"Credit"===e.Type?(n[a].income+=e.Amount,n[a].balance+=e.Amount):(n[a].expense+=e.Amount,n[a].balance-=e.Amount)});let l=Object.values(n),o={};return s.forEach(e=>{let s=t(e.Date),a=new Date(s.getFullYear(),0,1),r=Math.ceil(Math.floor((s.getTime()-a.getTime())/864e5)/7),n="".concat(s.getFullYear(),"-W").concat(String(r).padStart(2,"0")),l="W".concat(r,", ").concat(s.toLocaleString("default",{month:"short"}));o[n]||(o[n]={date:l,balance:0,income:0,expense:0}),"Credit"===e.Type?(o[n].income+=e.Amount,o[n].balance+=e.Amount):(o[n].expense+=e.Amount,o[n].balance-=e.Amount)}),{balanceHistory:r,monthlySummary:l,weeklySummary:Object.values(o)}},[e]),d=e=>{let{active:t,payload:s}=e;return t&&s&&s.length?(0,a.jsxs)("div",{className:"bg-white p-3 border border-gray-300 shadow-sm rounded-lg text-sm",children:[s[0].payload.date&&(0,a.jsx)("p",{className:"font-medium text-gray-900 mb-1",children:s[0].payload.date}),s.map((e,t)=>(0,a.jsxs)("p",{className:"flex items-center justify-between gap-4",children:[(0,a.jsxs)("span",{className:"text-gray-800",children:[e.name,":"]}),(0,a.jsx)("span",{className:"font-medium text-gray-900",children:T(e.value)})]},"tooltip-".concat(t)))]}):null},x=(()=>{if(!e.length)return{total:0,income:0,expense:0};let t=e.filter(e=>"Credit"===e.Type).reduce((e,t)=>e+t.Amount,0),s=e.filter(e=>"Debit"===e.Type).reduce((e,t)=>e+t.Amount,0);return{total:t-s,income:t,expense:s}})(),h="monthly"===o?c.monthlySummary.slice(-12):"weekly"===o?c.weeklySummary.slice(-12):c.balanceHistory.slice(-50);return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"rounded-lg border border-gray-300 bg-white p-4 shadow-sm",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Current Balance"}),(0,a.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:T(x.total)})]}),(0,a.jsxs)("div",{className:"rounded-lg border border-gray-300 bg-white p-4 shadow-sm",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Total Income"}),(0,a.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:T(x.income)})]}),(0,a.jsxs)("div",{className:"rounded-lg border border-gray-300 bg-white p-4 shadow-sm",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Total Expenses"}),(0,a.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:T(x.expense)})]})]}),(0,a.jsxs)("div",{className:"rounded-lg border border-gray-300 bg-white p-4 shadow-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Financial Overview"}),(0,a.jsxs)("div",{className:"inline-flex rounded-md shadow-sm",children:[(0,a.jsx)("button",{onClick:()=>i("all"),className:"px-4 py-2 text-sm font-medium ".concat("all"===o?"bg-gray-900 text-white":"bg-white text-gray-800 hover:bg-gray-100"," rounded-l-lg border border-gray-300"),children:"All Time"}),(0,a.jsx)("button",{onClick:()=>i("monthly"),className:"px-4 py-2 text-sm font-medium ".concat("monthly"===o?"bg-gray-900 text-white":"bg-white text-gray-800 hover:bg-gray-100"," border-t border-b border-gray-300"),children:"Monthly"}),(0,a.jsx)("button",{onClick:()=>i("weekly"),className:"px-4 py-2 text-sm font-medium ".concat("weekly"===o?"bg-gray-900 text-white":"bg-white text-gray-800 hover:bg-gray-100"," rounded-r-lg border border-gray-300"),children:"Weekly"})]})]}),t?(0,a.jsx)(A,{}):s?(0,a.jsx)(D,{message:s,retry:l}):e.length?(0,a.jsx)("div",{className:"h-80",children:"all"===o?(0,a.jsx)(m.u,{width:"100%",height:"100%",children:(0,a.jsxs)(b.b,{data:h,margin:{top:5,right:5,left:5,bottom:25},children:[(0,a.jsx)(w.d,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),(0,a.jsx)(N.W,{dataKey:"date",tick:{fontSize:12,fill:"#333333"},tickFormatter:(e,t)=>t%5==0?e:"",height:60}),(0,a.jsx)(v.h,{axisLine:!1,tickLine:!1,tickFormatter:e=>T(e),width:80,style:{fontSize:"12px",fill:"#333333"}}),(0,a.jsx)(g.m,{content:(0,a.jsx)(d,{})}),(0,a.jsx)(k.N,{name:"Balance",type:"monotone",dataKey:"balance",stroke:"#000000",strokeWidth:2,dot:!1,activeDot:{r:6,strokeWidth:0,fill:"#000000"}})]})}):(0,a.jsx)(m.u,{width:"100%",height:"100%",children:(0,a.jsxs)(S.E,{data:h,margin:{top:5,right:5,left:5,bottom:25},barGap:5,children:[(0,a.jsx)(w.d,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),(0,a.jsx)(N.W,{dataKey:"date",height:60,tick:{fontSize:12,fill:"#333333"}}),(0,a.jsx)(v.h,{axisLine:!1,tickLine:!1,tickFormatter:e=>T(e),width:80,style:{fontSize:"12px",fill:"#333333"}}),(0,a.jsx)(g.m,{content:(0,a.jsx)(d,{})}),(0,a.jsx)(y.s,{}),(0,a.jsx)(C.y,{name:"Income",dataKey:"income",fill:"#333333",radius:[4,4,0,0],maxBarSize:40}),(0,a.jsx)(C.y,{name:"Expense",dataKey:"expense",fill:"#888888",radius:[4,4,0,0],maxBarSize:40}),(0,a.jsx)(k.N,{name:"Balance",type:"monotone",dataKey:"balance",stroke:"#000000",strokeWidth:2,dot:!1})]})})}):(0,a.jsx)(L,{}),!t&&!s&&e.length>0&&(0,a.jsx)("div",{className:"pt-4 text-center text-sm text-gray-700",children:"all"===o?(0,a.jsx)("p",{children:"Showing account balance over time based on your transactions"}):"monthly"===o?(0,a.jsx)("p",{children:"Monthly income, expenses and balance for the last 12 months"}):(0,a.jsx)("p",{children:"Weekly income, expenses and balance for the last 12 weeks"})})]})]})}let O=(0,r.lazy)(()=>s.e(338).then(s.bind(s,42338))),B=(0,r.lazy)(()=>s.e(187).then(s.bind(s,94187))),M=()=>{let[e,t]=(0,r.useState)({totalBudget:35e3,spentAmount:22750,currency:"₹"}),[s,n]=(0,r.useState)(!0);(0,r.useEffect)(()=>{(async()=>{try{let e=await fetch("https://script.google.com/macros/s/AKfycbyJ6KzWs1QdL86o0gflTFKHZvGqpeYNh9cfjbRyV9A6vf2AL-Cx8lOFrFONursaOPHSiQ/exec?action=getBudget");if(e.ok){let s=await e.json();"success"===s.status&&s.budget&&t(s.budget)}}catch(e){console.error("Error fetching budget data:",e)}finally{n(!1)}})()},[]);let l=Math.min(Math.round(e.spentAmount/e.totalBudget*100),100),o=e=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(e);return(0,a.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-white p-4 shadow-sm",children:[(0,a.jsx)("h3",{className:"mb-3 text-lg font-medium text-gray-900",children:"Budget Overview"}),s?(0,a.jsxs)("div",{className:"space-y-3 animate-pulse",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-24"}),(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-20"})]}),(0,a.jsx)("div",{className:"h-2 w-full rounded-full bg-gray-200"}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-16"}),(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-28"})]})]}):(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-900 font-medium",children:"Monthly Budget"}),(0,a.jsx)("span",{className:"font-medium text-gray-900",children:o(e.totalBudget)})]}),(0,a.jsx)("div",{className:"h-2 w-full rounded-full bg-gray-200",children:(0,a.jsx)("div",{className:"h-2 rounded-full ".concat((e=>e>=90?"bg-red-500":e>=75?"bg-orange-500":e>=50?"bg-yellow-500":"bg-green-500")(l)),style:{width:"".concat(l,"%")}})}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-900 font-medium",children:"Spent"}),(0,a.jsxs)("span",{className:"text-sm text-gray-900 font-medium",children:[o(e.spentAmount)," (",l,"%)"]})]}),(0,a.jsxs)("div",{className:"flex justify-between pt-2",children:[(0,a.jsx)("span",{className:"text-sm text-gray-900 font-medium",children:"Remaining"}),(0,a.jsx)("span",{className:"text-sm font-medium ".concat(l>=90?"text-red-600":"text-green-600"),children:o(e.totalBudget-e.spentAmount)})]})]})]})},E=()=>(0,a.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-white p-4 shadow-sm animate-pulse",children:[(0,a.jsx)("div",{className:"h-6 bg-gray-200 rounded w-48 mb-4"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-full"}),(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-full"}),(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4"})]})]});function P(){let{transactions:e,isLoading:t}=(0,n.x)();return(0,a.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,a.jsx)("header",{className:"border-b border-gray-200 bg-white shadow-sm",children:(0,a.jsxs)("div",{className:"mx-auto flex max-w-6xl items-center justify-between px-4 py-4",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Penny Wise"}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("button",{className:"rounded-full bg-gray-100 p-2 relative text-gray-700",children:[(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,a.jsx)("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),(0,a.jsx)("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e.length>0&&(0,a.jsx)("span",{className:"absolute -top-1 -right-1 h-4 w-4 rounded-full bg-red-500 text-white text-xs flex items-center justify-center",children:Math.min(e.length,9)})]}),(0,a.jsx)("div",{className:"h-8 w-8 rounded-full bg-gray-800 text-white flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-sm font-medium",children:"DD"})})]})]})}),(0,a.jsx)("main",{className:"mx-auto max-w-6xl px-4 py-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[(0,a.jsxs)("div",{className:"space-y-6 md:col-span-2",children:[(0,a.jsx)(r.Suspense,{fallback:(0,a.jsx)(E,{}),children:(0,a.jsx)(F,{})}),(0,a.jsx)(r.Suspense,{fallback:(0,a.jsx)(E,{}),children:(0,a.jsx)(O,{})}),(0,a.jsx)(r.Suspense,{fallback:(0,a.jsx)(E,{}),children:(0,a.jsx)(f,{})}),(0,a.jsx)(r.Suspense,{fallback:(0,a.jsx)(E,{}),children:(0,a.jsx)(B,{})})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(i,{}),(0,a.jsx)(M,{}),(0,a.jsx)(c,{})]})]})})]})}},84307:(e,t,s)=>{"use strict";s.d(t,{x:()=>r});var a=s(12115);let r=()=>{let[e,t]=(0,a.useState)([]),[s,r]=(0,a.useState)(!0),[n,l]=(0,a.useState)(null),o=async()=>{r(!0),l(null);try{let e=await fetch("https://script.google.com/macros/s/AKfycbwpVDMAbxpwKP0mwyfj_b19cMUMx4JOeVLPgjDcHlRQYX2NHvCm9OOFmApbGD3yYbn-dg/exec?action=getTransactions");if(!e.ok)throw Error("HTTP error! Status: ".concat(e.status));let s=await e.json();if("success"===s.status)t(s.data);else throw Error(s.message||"Failed to fetch transactions")}catch(e){l(e instanceof Error?e.message:"An unknown error occurred")}finally{r(!1)}},i=async e=>{r(!0),l(null);try{let t=await fetch("https://script.google.com/macros/s/AKfycbwpVDMAbxpwKP0mwyfj_b19cMUMx4JOeVLPgjDcHlRQYX2NHvCm9OOFmApbGD3yYbn-dg/exec?action=addTransaction",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}});if(!t.ok)throw Error("HTTP error! Status: ".concat(t.status));let s=await t.json();if("success"===s.status)return await o(),s.data;throw Error(s.message||"Failed to add transaction")}catch(e){throw l(e instanceof Error?e.message:"An unknown error occurred"),e}finally{r(!1)}},c=async e=>{r(!0),l(null);try{let t=await fetch("https://script.google.com/macros/s/AKfycbwpVDMAbxpwKP0mwyfj_b19cMUMx4JOeVLPgjDcHlRQYX2NHvCm9OOFmApbGD3yYbn-dg/exec?action=updateTransaction",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}});if(!t.ok)throw Error("HTTP error! Status: ".concat(t.status));let s=await t.json();if("success"===s.status)return await o(),s.data;throw Error(s.message||"Failed to update transaction")}catch(e){throw l(e instanceof Error?e.message:"An unknown error occurred"),e}finally{r(!1)}},d=async e=>{r(!0),l(null);try{let t=await fetch("https://script.google.com/macros/s/AKfycbwpVDMAbxpwKP0mwyfj_b19cMUMx4JOeVLPgjDcHlRQYX2NHvCm9OOFmApbGD3yYbn-dg/exec?action=deleteTransaction",{method:"POST",body:JSON.stringify({id:e}),headers:{"Content-Type":"application/json"}});if(!t.ok)throw Error("HTTP error! Status: ".concat(t.status));let s=await t.json();if("success"===s.status)return await o(),!0;throw Error(s.message||"Failed to delete transaction")}catch(e){throw l(e instanceof Error?e.message:"An unknown error occurred"),e}finally{r(!1)}};return(0,a.useEffect)(()=>{o()},[]),{transactions:e,isLoading:s,error:n,refetch:o,addTransaction:i,updateTransaction:c,deleteTransaction:d}}}},e=>{var t=t=>e(e.s=t);e.O(0,[393,571,441,684,358],()=>t(14255)),_N_E=e.O()}]);